# News Page Implementation Plan

A daily AI/prompt engineering news page generated by Claude, with full transparency into the prompt used.

## Overview

**Concept**: An automatically-generated news digest that aggregates AI coding tool updates, community discussions, and trending projects into a visually rich page using the `project-visual` template style.

**Unique Value**: The prompt used to generate each day's news is shared publicly (via GitHub Gist), letting users see both the output and the "how it's made" - fitting for a prompt engineering platform.

## Data Sources

### Community & News
| Source | What It Provides | Fetch Method |
|--------|------------------|--------------|
| Hacker News | Trending AI discussions | Firebase API |
| GitHub Trending | New AI tools/repos | GitHub Search API |
| Lobsters | Technical deep dives | Direct JSON endpoint |
| Dev.to | Tutorials, practitioner content | Public API |
| Web Search | Breaking news, announcements | Claude web search |

### Tool Changelogs
| Tool | Primary Source | Format |
|------|---------------|--------|
| Claude Code | [GitHub CHANGELOG.md](https://github.com/anthropics/claude-code/blob/main/CHANGELOG.md) | Markdown |
| Gemini CLI | [Official Changelog](https://google-gemini.github.io/gemini-cli/docs/changelogs/) | Markdown |
| OpenAI Codex | [Official Changelog](https://developers.openai.com/codex/changelog/) | HTML |

## Page Structure

Adapted from the `project-visual` template in `~/projects/portfolio-style-guides`:

### Sections to Keep (Adapted)

1. **Hero Section** → Today's Top Story
   - Featured headline with "why this matters"
   - Featured image/video embed if available
   - Date badge showing generation timestamp

2. **Stats Dashboard** → Today's Pulse
   - Stories curated
   - Sources scanned
   - Tool updates detected
   - Trending topics

3. **Key Features (4 cards)** → Top Stories
   - 4 most important stories of the day
   - Each with summary, source link, category icon

4. **Masonry Gallery** → Trending Repos & Media
   - GitHub trending repos with stars/description
   - Screenshots from announcements
   - Notable images from the day

5. **Visual Timeline** → Tool Updates
   - Claude Code, Gemini CLI, Codex version changes
   - What's new in each release

6. **Testimonials Carousel** → Notable Quotes
   - Quotes from AI company announcements
   - Notable community reactions
   - Expert opinions

7. **Design System Tabs** → How This Was Made
   - **Today's Stories** tab (default): Quick links to all stories
   - **The Prompt** tab: Full prompt used to generate this page
   - **Sources** tab: Links to all raw sources
   - **Model** tab: Model used, tokens, generation time

### Sections to Remove
- Before/After Comparison Sliders (not applicable)
- Live Demo Embed (not applicable)
- Color Palette display (not applicable)

### New Elements
- **Prompt Transparency Button**: Fixed button in top-right corner
  - Opens drawer/modal showing the generation prompt
  - Links to GitHub Gist with version history
  - Shows model info and generation timestamp

## File Structure

```
app/
├── news/
│   ├── page.tsx              # News index (latest or archive list)
│   └── [date]/
│       └── page.tsx          # Individual day's news page
│
components/
├── news/
│   ├── NewsHero.tsx          # Top story hero section
│   ├── NewsPulse.tsx         # Stats dashboard
│   ├── TopStories.tsx        # 4-card story grid
│   ├── TrendingGallery.tsx   # Masonry gallery of repos/media
│   ├── ToolUpdates.tsx       # Timeline of changelog updates
│   ├── NotableQuotes.tsx     # Carousel of quotes
│   ├── HowItsMade.tsx        # Tabbed prompt/sources/model info
│   └── PromptButton.tsx      # Floating transparency button
│
lib/
├── news/
│   ├── types.ts              # TypeScript types for news data
│   ├── fetchers/             # Data fetching (copied from personal-homepage)
│   │   ├── hackernews.ts
│   │   ├── github.ts
│   │   ├── lobsters.ts
│   │   ├── devto.ts
│   │   └── changelogs.ts     # Fetch tool changelogs
│   └── generate.ts           # Main generation orchestration
│
scripts/
└── generate-news.ts          # CLI script for nightly generation
```

## Data Types

```typescript
interface DailyNews {
  date: string                    // ISO date (2024-01-15)
  generatedAt: string             // ISO timestamp
  promptGistUrl: string           // Link to the prompt Gist
  modelUsed: string               // e.g., "claude-opus-4-5-20251101"

  hero: {
    headline: string
    summary: string
    whyItMatters: string
    sourceUrl: string
    imageUrl?: string
    videoUrl?: string
  }

  pulse: {
    storiesCurated: number
    sourcesScanned: number
    toolUpdates: number
    topTopics: string[]
  }

  topStories: Array<{
    title: string
    summary: string
    sourceUrl: string
    source: 'hackernews' | 'github' | 'lobsters' | 'devto' | 'web'
    category: 'announcement' | 'tool' | 'tutorial' | 'discussion' | 'research'
    imageUrl?: string
  }>

  trendingRepos: Array<{
    name: string
    description: string
    url: string
    stars: number
    language?: string
    topics?: string[]
  }>

  toolUpdates: Array<{
    tool: 'claude-code' | 'gemini-cli' | 'codex'
    version: string
    date: string
    highlights: string[]
    fullChangelogUrl: string
  }>

  notableQuotes: Array<{
    quote: string
    author: string
    role: string
    sourceUrl: string
    avatarUrl?: string
  }>

  allSources: Array<{
    title: string
    url: string
    source: string
  }>

  prompt: string                  // The actual prompt used
}
```

## Generation Flow

### Nightly Job (or Manual Trigger)

```
1. FETCH RAW DATA
   ├── Fetch HN top stories (filter: AI/LLM related)
   ├── Fetch GitHub trending (filter: AI topics)
   ├── Fetch Lobsters hottest
   ├── Fetch Dev.to top articles
   ├── Run web searches for breaking news
   └── Fetch tool changelogs (Claude Code, Gemini, Codex)

2. DEDUPLICATE
   └── Compare against previous days to avoid repeats

3. SEND TO CLAUDE
   ├── Include all raw data
   ├── Simple prompt: "Create an engaging daily news page..."
   └── Request structured JSON output matching DailyNews type

4. SAVE OUTPUT
   ├── Save JSON to data/news/YYYY-MM-DD.json
   ├── Update/create Gist with the prompt used
   └── Optionally commit to repo

5. DONE
   └── Next.js reads JSON and renders the page
```

### The Prompt (Intentionally Simple)

```
Here are today's feed items from AI/prompt engineering sources
(items not seen in previous days):

[RAW FEED DATA]

Here are the latest changelog entries for AI coding tools:

[CHANGELOG DATA]

Create an engaging daily news page for a prompt engineering audience.
Output as JSON matching this structure: [DailyNews type]

Make it visually compelling - pick the most interesting story for the hero,
identify notable quotes, highlight trending repos worth watching.
```

The simplicity is intentional - let the model use its judgment rather than constraining it with rigid rules.

## Implementation Phases

### Phase 1: Static Template
- [ ] Create `/app/news/page.tsx` with hardcoded sample data
- [ ] Adapt project-visual components for news context
- [ ] Implement prompt transparency button/drawer
- [ ] Verify all animations and styling work

### Phase 2: Data Layer
- [ ] Copy/adapt fetchers from personal-homepage
- [ ] Add changelog fetchers for Claude Code, Gemini, Codex
- [ ] Create TypeScript types
- [ ] Test data aggregation

### Phase 3: Generation Script
- [ ] Create `scripts/generate-news.ts`
- [ ] Implement deduplication against previous days
- [ ] Test Claude generation with real data
- [ ] Set up Gist creation/updating

### Phase 4: Dynamic Rendering
- [ ] Create `/app/news/[date]/page.tsx` for archives
- [ ] Load news from JSON files
- [ ] Add navigation between days
- [ ] Index page showing latest or archive list

### Phase 5: Automation (Future)
- [ ] GitHub Action or cron job for nightly generation
- [ ] Error handling and notifications
- [ ] Usage/cost monitoring

## Design Decisions

### Why JSON files instead of database?
- Simpler to version control
- Easy to regenerate/edit manually
- No database costs
- Git history shows evolution

### Why GitHub Gist for prompts?
- Version history built-in
- Publicly viewable
- Easy to link/embed
- Shows prompt evolution over time

### Why simple prompts?
- Opus 4.5 handles complex reasoning well
- Rigid prompts can constrain quality
- Easier to iterate and improve
- The output quality demonstrates AI capability

## Open Questions

1. **Archive depth**: How many days of news to keep accessible?
2. **RSS feed**: Should we generate an RSS feed for subscribers?
3. **Social images**: Auto-generate OG images for sharing?
4. **Notifications**: Email digest option for subscribers?

## Related Files

- Template reference: `~/projects/portfolio-style-guides/app/templates/project-visual/page.tsx`
- Feed fetchers reference: `~/projects/personal-homepage/app/api/feed/fetchers/`
- Existing docs: `/docs/ARCHITECTURE.md`, `/docs/THEMING.md`
