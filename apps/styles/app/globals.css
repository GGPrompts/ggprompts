@import "@ggprompts/themes";

@tailwind base;
@tailwind components;
@tailwind utilities;

/*
 * App-specific styles for apps/styles
 * Theme system is provided by @ggprompts/themes
 */

@layer base {
  html {
    overflow-y: scroll !important; /* Always show scrollbar to prevent layout shift */
    width: 100%;
  }

  body {
    /* Prevent body from getting overflow: hidden when dropdowns open */
    overflow-x: hidden !important;
    width: 100%;
    position: relative;
  }

  /* Prevent Radix UI from hiding overflow and causing layout shift */
  body[data-scroll-locked] {
    overflow-y: scroll !important;
    padding-right: 0 !important;
  }

  /* Light theme scrollbar adjustments */
  :root[data-theme="light"] ::-webkit-scrollbar-thumb {
    background: hsl(var(--muted-foreground) / 0.3);
    border: 2px solid hsl(var(--background));
  }

  :root[data-theme="light"] ::-webkit-scrollbar-thumb:hover {
    background: hsl(var(--muted-foreground) / 0.5);
  }

  :root[data-theme="light"] ::-webkit-scrollbar-thumb:active {
    background: hsl(var(--primary));
  }

  :root[data-theme="light"] * {
    scrollbar-color: hsl(var(--muted-foreground) / 0.3) hsl(var(--background));
  }
}

@layer utilities {
  /* Extended gradient animations for MasterBackground */
  @keyframes gradient-pulse {
    0%, 100% {
      opacity: 1;
    }
    50% {
      opacity: 0.85;
    }
  }

  @keyframes gradient-shift {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  @keyframes gradient-rotate {
    0% {
      transform: rotate(0deg) scale(1.5);
    }
    100% {
      transform: rotate(360deg) scale(1.5);
    }
  }

  @keyframes gradient-rotate-reverse {
    0% {
      transform: rotate(360deg) scale(1.5);
    }
    100% {
      transform: rotate(0deg) scale(1.5);
    }
  }

  .animate-gradient-fast {
    background-size: 200% auto;
    animation: gradient 2s ease infinite;
  }

  .animate-gradient-slow {
    background-size: 200% auto;
    animation: gradient 5s ease infinite;
  }

  .animate-gradient-pulse {
    animation: gradient 3s ease infinite, gradient-pulse 2s ease-in-out infinite;
    background-size: 200% auto;
  }

  .animate-gradient-shift {
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
  }

  .animate-gradient-rotate {
    animation: gradient-rotate 20s linear infinite;
  }

  .animate-gradient-rotate-reverse {
    animation: gradient-rotate-reverse 25s linear infinite;
  }

  .bg-gradient-radial {
    background: radial-gradient(circle at center, var(--tw-gradient-from), var(--tw-gradient-to));
  }

  /* Fix date input calendar icon for dark themes */
  input[type="date"]::-webkit-calendar-picker-indicator,
  input[type="datetime-local"]::-webkit-calendar-picker-indicator,
  input[type="time"]::-webkit-calendar-picker-indicator {
    filter: invert(1);
    opacity: 0.7;
    cursor: pointer;
  }

  input[type="date"]::-webkit-calendar-picker-indicator:hover,
  input[type="datetime-local"]::-webkit-calendar-picker-indicator:hover,
  input[type="time"]::-webkit-calendar-picker-indicator:hover {
    opacity: 1;
  }

  /* Light theme - don't invert */
  :root[data-theme="light"] input[type="date"]::-webkit-calendar-picker-indicator,
  :root[data-theme="light"] input[type="datetime-local"]::-webkit-calendar-picker-indicator,
  :root[data-theme="light"] input[type="time"]::-webkit-calendar-picker-indicator {
    filter: none;
  }
}
